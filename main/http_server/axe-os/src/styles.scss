@font-face {
    font-family: 'Nippo-Regular';
    src: url(/assets/fonts/Nippo-Regular.woff2) format('woff2');
    font-weight: 400;
    font-display: swap;
    font-style: normal;
}

* {
    font-family: 'Nippo-Regular';
}

@import "app/layout/styles/layout/layout.scss";
@import "app/layout/styles/theme/themes/vela/bitaxe/theme.scss";

/* ===== PIP-BOY / VAULT-TEC CRT EFFECTS ===== */

/* ===== RANDOM GLITCH EFFECTS ===== */

/* Glitch text effect - applied via JavaScript randomly */
.glitch-text {
    position: relative;
    animation: glitch-shake 0.3s forwards;
}

.glitch-text::before,
.glitch-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: inherit;
}

.glitch-text::before {
    left: 2px;
    text-shadow: -2px 0 #ff0000;
    clip-path: polygon(0 25%, 100% 25%, 100% 30%, 0 30%);
    animation: glitch-anim 0.3s infinite linear alternate-reverse;
}

.glitch-text::after {
    left: -2px;
    text-shadow: 2px 0 #0000ff;
    clip-path: polygon(0 65%, 100% 65%, 100% 70%, 0 70%);
    animation: glitch-anim-2 0.4s infinite linear alternate-reverse;
}

@keyframes glitch-shake {
    0% { transform: skewX(0deg); }
    25% { transform: skewX(5deg); }
    50% { transform: skewX(-5deg); }
    75% { transform: skewX(3deg); }
    100% { transform: skewX(0deg); }
}

@keyframes glitch-anim {
    0% { clip-path: polygon(0 0, 100% 0, 100% 5%, 0 5%); }
    20% { clip-path: polygon(0 20%, 100% 20%, 100% 25%, 0 25%); }
    40% { clip-path: polygon(0 40%, 100% 40%, 100% 45%, 0 45%); }
    60% { clip-path: polygon(0 60%, 100% 60%, 100% 65%, 0 65%); }
    80% { clip-path: polygon(0 80%, 100% 80%, 100% 85%, 0 85%); }
    100% { clip-path: polygon(0 50%, 100% 50%, 100% 55%, 0 55%); }
}

@keyframes glitch-anim-2 {
    0% { clip-path: polygon(0 5%, 100% 5%, 100% 10%, 0 10%); }
    20% { clip-path: polygon(0 25%, 100% 25%, 100% 30%, 0 30%); }
    40% { clip-path: polygon(0 45%, 100% 45%, 100% 50%, 0 50%); }
    60% { clip-path: polygon(0 65%, 100% 65%, 100% 70%, 0 70%); }
    80% { clip-path: polygon(0 85%, 100% 85%, 100% 90%, 0 90%); }
    100% { clip-path: polygon(0 55%, 100% 55%, 100% 60%, 0 60%); }
}

/* Full screen glitch overlay effect */
.glitch-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 10000;
    animation: glitch-overlay-anim 0.2s forwards;
}

@keyframes glitch-overlay-anim {
    0% {
        background: transparent;
        transform: translate(0);
    }
    20% {
        background: rgba(255, 0, 0, 0.03);
        transform: translate(-2px, 1px);
    }
    40% {
        background: rgba(0, 255, 0, 0.02);
        transform: translate(2px, -1px);
    }
    60% {
        background: rgba(0, 0, 255, 0.03);
        transform: translate(-1px, 2px);
    }
    80% {
        background: rgba(255, 0, 255, 0.02);
        transform: translate(1px, -2px);
    }
    100% {
        background: transparent;
        transform: translate(0);
    }
}

/* CRT flicker effect */
@keyframes crt-flicker {
    0% { opacity: 1; }
    5% { opacity: 0.95; }
    10% { opacity: 1; }
    15% { opacity: 0.97; }
    20% { opacity: 1; }
    50% { opacity: 1; }
    55% { opacity: 0.98; }
    60% { opacity: 1; }
    100% { opacity: 1; }
}

body:not(.layout-theme-light).crt-flicker {
    animation: crt-flicker 0.15s forwards;
}

/* Horizontal scan glitch */
@keyframes horizontal-glitch {
    0% {
        clip-path: inset(0 0 100% 0);
        transform: translateX(0);
    }
    10% {
        clip-path: inset(40% 0 50% 0);
        transform: translateX(-5px);
    }
    20% {
        clip-path: inset(20% 0 70% 0);
        transform: translateX(5px);
    }
    30% {
        clip-path: inset(60% 0 30% 0);
        transform: translateX(-3px);
    }
    40% {
        clip-path: inset(10% 0 80% 0);
        transform: translateX(3px);
    }
    50% {
        clip-path: inset(70% 0 20% 0);
        transform: translateX(-2px);
    }
    100% {
        clip-path: inset(0 0 0 0);
        transform: translateX(0);
    }
}

/* CRT Scanline overlay - dark mode (green tint) */
body:not(.layout-theme-light)::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(20, 245, 147, 0.03) 2px,
        rgba(20, 245, 147, 0.03) 4px
    );
    pointer-events: none;
    z-index: 9999;
}

/* CRT Scanline overlay - light mode (gray/sepia for old PC look) */
body.layout-theme-light::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.025) 2px,
        rgba(0, 0, 0, 0.025) 4px
    );
    pointer-events: none;
    z-index: 9999;
}

/* Dark mode: Pip-Boy glow effect for cards */
body:not(.layout-theme-light) .card {
    box-shadow: 0 0 15px rgba(20, 245, 147, 0.15);
    border: 1px solid rgba(20, 245, 147, 0.3);
    transition: all 0.3s ease;

    &:hover {
        box-shadow: 0 0 25px rgba(20, 245, 147, 0.25);
        border-color: rgba(20, 245, 147, 0.5);
    }
}

/* Dark mode: Green glow on headings */
body:not(.layout-theme-light) h1,
body:not(.layout-theme-light) h2,
body:not(.layout-theme-light) h3,
body:not(.layout-theme-light) h4 {
    text-shadow: 0 0 10px rgba(20, 245, 147, 0.3);
}

/* Pip-Boy styled links - dark mode only */
body:not(.layout-theme-light) a:hover {
    text-shadow: 0 0 8px rgba(20, 245, 147, 0.5);
}

/* ===== LIGHT MODE OVERRIDES ===== */
/* Reset all theme customizations for clean light mode */

.layout-theme-light {
    /* Background and surfaces */
    --surface-ground: #f8f9fa !important;
    --surface-section: #ffffff !important;
    --surface-card: #ffffff !important;
    --surface-overlay: #ffffff !important;
    --surface-border: #dee2e6 !important;
    --surface-hover: rgba(0, 0, 0, 0.04) !important;

    /* Text colors */
    --text-color: #212529 !important;
    --text-color-secondary: #6c757d !important;

    /* Surfaces */
    --surface-0: #ffffff;
    --surface-50: #fafafa;
    --surface-100: #f5f5f5;
    --surface-200: #eeeeee;
    --surface-300: #e0e0e0;
    --surface-400: #bdbdbd;
    --surface-500: #9e9e9e;
    --surface-600: #757575;
    --surface-700: #616161;
    --surface-800: #424242;
    --surface-900: #212121;

    background-color: #f8f9fa !important;
    color: #212529 !important;

    /* Cards */
    .card {
        background: #ffffff !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
        border: 1px solid #dee2e6 !important;

        &:hover {
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15) !important;
            border-color: #adb5bd !important;
        }
    }

    /* Headings */
    h1, h2, h3, h4, h5, h6 {
        color: #212529 !important;
        text-shadow: none !important;
    }

    /* Labels and text */
    label, .text-500, .text-600, .text-700, .text-800, .text-900 {
        color: #495057 !important;
    }

    /* Input text fields */
    .p-inputtext {
        background: #ffffff !important;
        border: 1px solid #ced4da !important;
        color: #212529 !important;

        &::placeholder {
            color: #6c757d !important;
        }

        &:enabled:hover,
        &:enabled:focus {
            border-color: var(--primary-color) !important;
        }
    }

    /* Dropdowns */
    .p-dropdown {
        background: #ffffff !important;
        border: 1px solid #ced4da !important;
        color: #212529 !important;

        .p-dropdown-label {
            color: #212529 !important;
        }

        .p-dropdown-trigger {
            color: #6c757d !important;
        }

        &:hover,
        &.p-focus,
        &.p-dropdown-open {
            border-color: var(--primary-color) !important;
        }

        .p-dropdown-panel {
            background: #ffffff !important;
            border: 1px solid #ced4da !important;

            .p-dropdown-item {
                color: #212529 !important;

                &:hover {
                    background: #f8f9fa !important;
                }

                &.p-highlight {
                    background: var(--primary-color) !important;
                    color: var(--primary-color-text) !important;
                }
            }
        }
    }

    /* Progress bars */
    .p-progressbar {
        background: #e9ecef !important;
    }

    /* Sliders */
    .p-slider {
        background: #dee2e6 !important;
    }

    /* Toggle buttons when not active */
    .p-togglebutton:not(.p-highlight) {
        background: #ffffff !important;
        border: 1px solid #ced4da !important;
        color: #212529 !important;
    }

    /* Checkboxes and radio buttons - unchecked state */
    .p-checkbox .p-checkbox-box,
    .p-radiobutton .p-radiobutton-box {
        background: #ffffff !important;
        border: 2px solid #ced4da !important;
    }

    /* Messages */
    .p-message {
        background: #ffffff !important;
    }

    /* Sidebar and layout */
    .layout-sidebar {
        background: #ffffff !important;
        border-right: 1px solid #dee2e6 !important;
    }

    .layout-topbar {
        background: #ffffff !important;
        border-bottom: 1px solid #dee2e6 !important;
    }

    /* Tables */
    .heatmap td {
        color: #212529 !important;
    }

    /* Links */
    a:hover {
        text-shadow: none !important;
    }
}

@import "app/layout/styles/modules/primeicons.css";
@import "app/layout/styles/modules/primeng.min.css";

@import "../node_modules/primeflex/primeflex.min.css";


/* You can add global styles to this file, and also import other style files */
p-chart>div {
    position: relative;
    min-height: 40vh;
}

.card {
    &.chart {
        padding: 10px;
    }
}

.hover-next-input:hover + * {
    .p-dropdown {
        border-color: var(--checkbox-hover-bg);
    }
    .p-slider {
        .p-slider-handle {
            border-color: var(--checkbox-hover-bg);
            background-color: var(--checkbox-hover-bg);
        }
        .p-slider-range {
            background-color: var(--checkbox-hover-bg);
        }
    }
}

/* PrimeNG Component Theme Overrides */
.p-slider {
    .p-slider-range {
        background: var(--slider-range-bg);
    }
    .p-slider-handle {
        background: var(--slider-handle-bg);
        border: 2px solid var(--slider-handle-bg);

        &:focus {
            box-shadow: var(--focus-ring);
        }
    }
}

.p-checkbox {
    &:not(.p-checkbox-disabled) {
        .p-checkbox-box {
            &.p-focus,
            &:hover {
                border-color: var(--checkbox-hover-bg);
            }

            &.p-highlight {
                border-color: var(--checkbox-border);
                background: var(--checkbox-bg);

                &:hover {
                    background: var(--checkbox-hover-bg);
                    border-color: var(--checkbox-hover-bg);
                }
            }
        }
    }
}

.p-radiobutton {
    .p-radiobutton-box {
        &:not(.p-disabled):not(.p-highlight):hover,
        &:not(.p-disabled).p-focus {
            border-color: var(--checkbox-hover-bg);
        }

        &.p-highlight {
            border-color: var(--checkbox-border);
            background: var(--checkbox-bg);

            &:not(.p-disabled):hover {
                background: var(--checkbox-hover-bg);
                border-color: var(--checkbox-hover-bg);
            }
        }
    }
}

.p-button:not(.p-button-secondary) {
    background: var(--button-bg);
    border: 1px solid var(--button-bg);

    &:enabled:hover {
        background: var(--button-hover-bg);
        border-color: var(--button-hover-bg);
    }
}

.p-button.p-button-text.color-dot {
    &:enabled:hover {
        background: var(--button-bg);
    }
    &:focus {
        box-shadow: none;
    }
    &:enabled:focus {
        box-shadow: none;
    }
}

// Remove focus ring from theme color buttons
button.color-dot {
    &:focus {
        outline: none !important;
        box-shadow: none !important;
    }
}

.p-togglebutton {
    &.p-highlight {
        background: var(--togglebutton-bg);
        border-color: var(--togglebutton-bg);

        &:hover {
            background: var(--togglebutton-hover-bg);
            border-color: var(--togglebutton-hover-bg);
        }
    }
}

.p-inputtext {
    background: transparent !important;
    transition: none !important;
    box-shadow: none !important;
    outline: none !important;

    &:enabled:hover,
    &:enabled:focus {
        border-color: var(--togglebutton-hover-bg) !important;
    }
}

/* Progress Bar Theme Override */
.p-progressbar {
    background: var(--progressbar-bg);

    .p-progressbar-value {
        background: var(--progressbar-value-bg);
    }

    &--thin {
        height: 6px !important;
    }
}

/* Dropdown Theme*/
.p-dropdown {
    background: transparent !important;
    transition: none !important;
    box-shadow: none !important;
    outline: none !important;

    &:hover,
    &:focus,
    &.p-dropdown-open,
    &:not(.p-disabled).p-focus {
        border-color: var(--togglebutton-hover-bg) !important;
    }

    .p-dropdown-panel {
        background: var(--surface-overlay) !important;

        .p-dropdown-items {
            padding: 0;

            .p-dropdown-item {
                &:hover {
                    background: var(--highlight-bg) !important;
                    color: var(--highlight-text-color) !important;
                }

                &.p-highlight {
                    background: var(--highlight-bg) !important;
                    color: var(--highlight-text-color) !important;
                }
            }
        }
    }

    .p-overlay {
        left: -1px !important;
        right: -1px !important;
    }

    &--small {
        .p-dropdown-label,
        .p-dropdown-item {
            font-size: small;
        }
        .p-dropdown-label {
            padding: 0.3rem 0 0.3rem 0.7rem;
        }
    }
}

.p-button-icon {
    font-size: 1.2rem;
}

.p-dialog {
    @extend .card;
    margin: 1rem;

    &-header,
    &-content {
        padding: 0;
        margin: 0;
        background: none;
    }

    &-header {
        margin: 0 0 2rem;
    }

    &-header-icon {
        @extend .p-button;
        width: 2.2rem;
        height: 2.2rem;
        color: #fff;
        border-radius: 0;
    }

    &-title {
        @extend h2;
        margin: 0;
    }
}

.line-break-anywhere {
    line-break: anywhere;
}
